<ion-header>
    <ion-navbar>

        <ion-title>
            {{'Update Schedule' | translate}}
        </ion-title>

        <ion-buttons end>
            <button ion-button (tap)="shareActionSheet()">
      <ion-icon name="share-alt"></ion-icon>
    </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content class="reservationDetails">
    <ion-card class="adv-map">
        <!--<div style="position: relative">
        <ion-slides>
          <ion-slide>
            <div class="videoWrapper">
              <iframe class="youtubeVideo"
               [src]="url" frameborder="0" allowfullscreen>
              </iframe>
            </div>
          </ion-slide>
        </ion-slides>
        <a class="fab-serviceProvider" (tap)="openServiceProviderDetailsPage(service.email)">
          <ion-avatar >
            <img src="img/card-saopaoloo.png">
          </ion-avatar>
        </a>
      </div>-->
        <ion-item>{{'Update Free Time' | translate}}</ion-item>
        <div *ngFor="let event of changedEventSourceISO; let i = index ">
            <ion-list [hidden]="event.action == 'delete'">
                <ion-list-header no-padding>
                    <ion-icon item-left name="add" (tap)="addReservation(i)"></ion-icon>
                    {{event.title}}{{i+1}}

                    <a item-right clear primary (tap)="cancellReservation(i)">
                      {{'Cancell' | translate}}<ion-icon  name="close"></ion-icon>
                    </a>
                </ion-list-header>
                <ion-item>
                    <ion-label>{{'Start Time' | translate}}</ion-label>
                    <ion-datetime style="color:black;" min=2016 max="2020" displayFormat="YYYY/MM/DD HH:mm" pickerFormat="YYYY-MM-DDTHH" [(ngModel)]="event.startTime" (ionChange)="recaculateTotalDefaultPrice()"></ion-datetime>
                </ion-item>

                <ion-item>
                    <ion-label>{{'End Time' | translate}}</ion-label>
                    <ion-datetime min=2016 max=2020 displayFormat="YYYY/MM/DD HH:mm" pickerFormat="YYYY-MM-DDTHH" [(ngModel)]="event.endTime" (ionChange)="recaculateTotalDefaultPrice()"></ion-datetime>
                </ion-item>

                <ion-item>
                    <ion-label>{{'Price Per Hour' | translate}}</ion-label>
                    <ion-note item-right style="color:black" (tap)=changeReservationPrice(event)>{{event.pricePerHour}}{{event.creator.currency | translate}}</ion-note>
                </ion-item>

                <ion-item>
                    <ion-label>{{'User Number Limit' | translate}}</ion-label>
                    <ion-note item-right style="color:black" (tap)=changeCustomerNumber(event)>{{event.userNumberLimit}}</ion-note>
                </ion-item>

                <ion-item>
                    <ion-label>{{'Service Provider Number Limit' | translate}}</ion-label>
                    <ion-note item-right style="color:black" (tap)=changeServiceProviderNumber(event)>{{event.serviceProviderNumberLimit}}</ion-note>
                </ion-item>

                <!-- <ion-item>
          <ion-toggle checked="false"></ion-toggle>
          <ion-label>
            repeat for this month
          </ion-label>
        </ion-item> -->
                <ion-item>
                    <ion-label>{{'Price' | translate}}</ion-label>
                    <ion-note item-right style="color:black"> {{event.price}}{{event.creator.currency | translate}}</ion-note>
                </ion-item>

            </ion-list>

        </div>

    </ion-card>

    <ion-card class="adv-map">
        <ion-item>{{'Delete Free Time' | translate}}</ion-item>
        <div *ngFor="let event of changedEventSourceISO; let i = index ">
            <ion-list [hidden]="event.action == 'put'">
                <ion-list-header no-padding>
                    <ion-icon item-left name="add" (tap)="addReservation(i)"></ion-icon>
                    {{event.title}}{{i+1}}

                    <a item-right clear primary (tap)="cancellReservation(i)">
                      {{'Cancell' | translate}}<ion-icon  name="close"></ion-icon>
                    </a>
                </ion-list-header>
                <ion-item>
                    <ion-label>{{'Start Time' | translate}}</ion-label>
                    <ion-datetime style="color:black;" min=2016 max="2020" displayFormat="YYYY/MM/DD HH:mm" pickerFormat="YYYY-MM-DDTHH" [(ngModel)]="event.startTime" (ionChange)="recaculateTotalDefaultPrice()"></ion-datetime>
                </ion-item>

                <ion-item>
                    <ion-label>{{'End Time' | translate}}</ion-label>
                    <ion-datetime min=2016 max=2020 displayFormat="YYYY/MM/DD HH:mm" pickerFormat="YYYY-MM-DDTHH" [(ngModel)]="event.endTime" (ionChange)="recaculateTotalDefaultPrice()"></ion-datetime>
                </ion-item>

                <ion-item>
                    <ion-label>{{'Price Per Hour' | translate}}</ion-label>
                    <ion-note item-right style="color:black" (tap)=changeReservationPrice(event)>{{event.pricePerHour}}{{event.creator.currency | translate}}</ion-note>
                </ion-item>

                <ion-item>
                    <ion-label>{{'User Number Limit' | translate}}</ion-label>
                    <ion-note item-right style="color:black" (tap)=changeCustomerNumber(event)>{{event.userNumberLimit}}</ion-note>
                </ion-item>

                <ion-item>
                    <ion-label>{{'Service Provider Number Limit' | translate}}</ion-label>
                    <ion-note item-right style="color:black" (tap)=changeServiceProviderNumber(event)>{{event.serviceProviderNumberLimit}}</ion-note>
                </ion-item>

                <!-- <ion-item>
                    <ion-toggle checked="false"></ion-toggle>
                    <ion-label>
                        repeat for this month
                    </ion-label>
                </ion-item> -->
                <ion-item>
                    <ion-label>{{'Price' | translate}}</ion-label>
                    <ion-note item-right style="color:black"> {{event.price}}{{event.creator.currency | translate}}</ion-note>
                </ion-item>
            </ion-list>
        </div>
        <ion-item>
            <span item-right class="totalPrice">
        {{'Gross income' | translate}}: {{totalPrice}}{{changedEventSourceISO[0].creator.currency | translate}}
      </span>
        </ion-item>
    </ion-card>
    <!--<ion-card class="highLightsCard">
      <div class="spaceLine"></div>
      <ion-card-header>
        About This Deal
      </ion-card-header>
      <ion-list >
        <div ion-item>
          detail
        </div>
      </ion-list>
    </ion-card>-->

</ion-content>

<ion-footer class="nextStep">
    <ion-toolbar (tap)="makeOffer()">
        <ion-title>{{'Submit' | translate}}</ion-title>
    </ion-toolbar>
</ion-footer>
